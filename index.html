<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Todo App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" href="/css/style.css">

</head>
<body style="background-color: lightblue;">
	
<div class="container mt-5">
    <h1 class="text-center mb-4">Todo App</h1>

    <!-- Add Task Form -->
    <div class="row mb-3 justify-content-center">
        <div class="col-md-6">
            <form th:action="@{/tasks}" method="post" class="d-flex">
                <input type="text" name="title" class="form-control me-2" placeholder="Enter new task" required>
                <button type="submit" class="btn btn-primary">Add Task</button>
            </form>
        </div>
    </div>

    <!-- Task List -->
    <div class="row justify-content-center">
        <div class="col-md-6">
            <ul class="list-group">
                <li th:each="task : ${tasks}" 
                    th:classappend="${task.completed} ? 'list-group-item list-group-item-success d-flex justify-content-between align-items-center completed' : 'list-group-item d-flex justify-content-between align-items-center'">
                    <span th:text="${task.title}" th:classappend="${task.completed} ? ' text-decoration-line-through'"></span>
                    <div>
                        <a th:href="@{/tasks/toggle/{id}(id=${task.id})}" class="btn btn-sm btn-warning me-2">Toggle</a>
                        <a th:href="@{/tasks/delete/{id}(id=${task.id})}" class="btn btn-sm btn-danger">Delete</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

<style>
    .completed {
        opacity: 0.7;
    }
</style>
</body>
</html>
